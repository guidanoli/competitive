#!/usr/bin/env bash

source tests/framework

T 'cptk --version'
T 'cptk --help'

T 'rm -f etc/lang'

F 'cptk path'
F 'cptk run'
F 'cptk debug'
F 'cptk edit'
F 'cptk copy'
F 'cptk paste'

T 'cptk init c'
T 'rm -f "$(cptk path)"'
F 'cptk run'
F 'cptk debug'
F 'cptk copy'

F 'cptk ""'
F 'cptk .'
F 'cptk ..'
F 'cptk base'

F 'cptk init'
F 'cptk init ""'
F 'cptk init .'
F 'cptk init ..'
F 'cptk init lib'

T 'echo test > etc/test'
T 'cp etc/test "$(cptk path)"'
T 'cptk copy'
T 'rm -f "$(cptk path)"'
T 'cptk paste'
T '[ -f "$(cptk path)" ]'
T 'diff etc/test "$(cptk path)"'
T 'rm etc/test'
