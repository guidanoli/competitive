#!/usr/bin/env bash

# T <command> [<message>]
# asserts <command> succeeds
T() {
	command=$1
	shift
	if [ $# -gt 0 ]; then
		message=$1
		shift
	else
		message=$command
	fi
	printf "[      ] $message"
	if eval "$command" > /dev/null 2>&1; then
		echo -e "\r[ \e[1;32mPASS\e[1;0m ] $message"
	else
		echo -e "\r[ \e[1;31mFAIL\e[1;0m ] $message"
		exit 1
	fi 
}

# F <command> [<message>]
# asserts <command> fails
F() {
	if [ $# -gt 1 ]; then
		T "! ($1)" "$2"
	else
		T "! ($1)"
	fi
}

# END
# End test case
END() {
	endtime=$(date +%s.%N)
	runtime=$(echo "$endtime - $starttime" | bc -l)
	echo -e "[ \e[1;34mTIME\e[1;0m ] $runtime s"
}

starttime=$(date +%s.%N)
